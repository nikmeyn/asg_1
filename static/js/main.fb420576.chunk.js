(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a(278)},131:function(e,t,a){},136:function(e,t,a){},156:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},235:function(e,t){},237:function(e,t){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(31),l=a.n(r),i=(a(131),a(16)),c=a.n(i),s=a(23),u=a(2),h=a(3),p=a(5),m=a(4),d=a(6),v=function(e){return o.a.createElement("div",{className:"header-titles"},o.a.createElement("h1",null,"Travel Images"),o.a.createElement("p",null,"Store your images on our service!"))},f=a(280),E=function(e){return o.a.createElement("nav",null,o.a.createElement(f.a,{to:"/home"},o.a.createElement("button",null,"Home")),o.a.createElement(f.a,{to:"/browse"},o.a.createElement("button",null,"Browse")),o.a.createElement(f.a,{to:"/about"},o.a.createElement("button",null,"About")))},b=function(e){return o.a.createElement("header",{className:"header"},o.a.createElement(v,null),o.a.createElement(E,null))},g=(a(136),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleViewClick=function(e){a.props.viewSinglePhoto(a.props.photo.id)},a.handleEditClick=function(e){a.props.editImageDetails(a.props.photo.id),e.stopPropagation()},a.handleFavClick=function(e){a.props.addToFavs(a.props.photo.id)},a.handleMapClick=function(e){a.props.showMap(a.props.photo.id),e.stopPropagation()},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e="https://storage.googleapis.com/funwebdev-3rd-travel/square-medium/".concat(this.props.photo.path);return o.a.createElement("span",{className:"photoBox",onClick:this.handleViewClick},o.a.createElement("figure",null,o.a.createElement("img",{src:e,className:"photoThumb",title:this.props.photo.title,alt:this.props.photo.title})),o.a.createElement("div",null,o.a.createElement("h3",null,this.props.photo.title),o.a.createElement("p",null,this.props.photo.city,", ",this.props.photo.country),o.a.createElement("button",{onClick:this.handleViewClick},"\ud83d\udc41"),o.a.createElement("button",{onClick:this.handleFavClick},"\ud83d\udc9c"),o.a.createElement("button",{onClick:this.handleMapClick},"\ud83c\udf0e"),o.a.createElement("button",{onClick:this.handleEditClick},"\ud83d\udd8b")),o.a.createElement("div",{className:"overlay2"},o.a.createElement("div",{onClick:this.handleRemoveFavorite,className:"text"},"X")))}}]),t}(o.a.Component)),w=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.props.photos.length>0?o.a.createElement("div",{className:"photos"},this.props.photos.map(function(t){return o.a.createElement(g,{photo:t,key:t.id,editImageDetails:e.props.editImageDetails,addToFavs:e.props.addToFavs,viewSinglePhoto:e.props.viewSinglePhoto,showMap:e.props.showMap})})):null}}]),t}(o.a.Component),y=a(24),j=(a(50),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleViewClick=function(e){a.props.viewSinglePhoto(a.props.currentPhoto)},a.handleMapClick=function(e){a.props.showMap(a.props.currentPhoto)},a.handleChange=function(e){var t=a.props.currentPhoto,n=a.props.photos.find(function(e){return e.id===t}),o=Object(y.a)({},n);o[e.currentTarget.name]=e.currentTarget.value,a.props.updatePhoto(a.props.currentPhoto,o)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.currentPhoto;if(this.props.photos.length>0){var t=this.props.photos.find(function(t){return t.id===e});return o.a.createElement("article",{className:"details"},o.a.createElement("div",{className:"detailsPhotoBox"},o.a.createElement("form",{className:"photoForm"},o.a.createElement("legend",null,"Edit Photo Details"),o.a.createElement("img",{src:"https://storage.googleapis.com/funwebdev-3rd-travel/medium/"+t.path,alt:t.title,onChange:this.handleChange}),o.a.createElement("label",null,"Title:"),o.a.createElement("input",{type:"text",name:"title",value:t.title,onChange:this.handleChange}),o.a.createElement("label",null,"City:"),o.a.createElement("input",{type:"text",name:"city",value:t.city,onChange:this.handleChange}),o.a.createElement("label",null,"Country:"),o.a.createElement("input",{type:"text",name:"country",value:t.country,onChange:this.handleChange}),o.a.createElement("label",null,"Latitude:"),o.a.createElement("input",{type:"text",name:"country",value:t.latitude,onChange:this.handleChange}),o.a.createElement("label",null,"Longitude:"),o.a.createElement("input",{type:"text",name:"country",value:t.longitude,onChange:this.handleChange})),o.a.createElement("button",{onClick:this.handleViewClick},"View"),o.a.createElement("button",{onClick:this.handleMapClick},"Map")))}return null}}]),t}(o.a.Component)),O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleEditClick=function(e){a.props.editImageDetails(a.props.currentPhoto)},a.handleMapClick=function(e){a.props.showMap(a.props.currentPhoto)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.currentPhoto;if(this.props.photos.length>0){var t=this.props.photos.find(function(t){return t.id===e});return o.a.createElement("article",{className:"details"},o.a.createElement("div",{className:"detailsPhotoBox"},o.a.createElement("form",{className:"photoForm"},o.a.createElement("legend",null,"View Photo Details"),o.a.createElement("img",{src:"https://storage.googleapis.com/funwebdev-3rd-travel/medium/"+t.path,alt:t.title}),o.a.createElement("h2",null,"Title:"),o.a.createElement("label",null," ",t.title," "),o.a.createElement("h2",null,"Description:"),o.a.createElement("label",null," ",t.description," "),o.a.createElement("h2",null,"City:"),o.a.createElement("label",null," ",t.city," "),o.a.createElement("h2",null,"Country:"),o.a.createElement("label",null," ",t.country," ")),o.a.createElement("button",{onClick:this.handleEditClick},"Edit"),o.a.createElement("button",{onClick:this.handleMapClick},"Map")))}return null}}]),t}(o.a.Component),C=a(122),k=a.n(C),P=function(){return o.a.createElement("div",{className:"pin"})},S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={zoom:10},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{height:"400px",width:"100%"}},o.a.createElement(k.a,{bootstrapURLKeys:{key:"AIzaSyAxZsj5CCckEJEDAfVOJQPbMe2QQf3xH5s"},center:{lat:this.props.lat,lng:this.props.long},defaultZoom:this.state.zoom},o.a.createElement(P,{lat:this.props.lat,lng:this.props.long})))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).success=function(e){a.calculateDistance(e.coords.latitude,e.coords.longitude)},a.error=function(){console.log("no geo found")},a.calculateDistance=function(e,t){console.log("in calc");var n=a.props.lat,o=a.props.long,r=e,l=t,i=(r-n)*Math.PI/180,c=(l-o)*Math.PI/180,s=.5-Math.cos(i)/2+Math.cos(n*Math.PI/180)*Math.cos(r*Math.PI/180)*(1-Math.cos(c))/2;console.log(n+"----"+r+"----"+l+"----"+o+"----6371----"+i+"----"+c+"----"+s);var u=12742*Math.asin(Math.sqrt(s));u.toFixed(2),a.setState({distance:u})},a.state={distance:0},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return"geolocation"in navigator?navigator.geolocation.getCurrentPosition(this.success):console.log("no geolocation available"),o.a.createElement("label",null," ",this.state.distance," km")}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleViewClick=function(e){a.props.viewSinglePhoto(a.props.currentPhoto)},a.handleEditClick=function(e){a.props.editImageDetails(a.props.currentPhoto)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.currentPhoto;if(this.props.photos.length>0){var t=this.props.photos.find(function(t){return t.id===e});return o.a.createElement("article",{className:"details"},o.a.createElement("div",{className:"detailsPhotoBox"},o.a.createElement("form",{className:"photoForm"},o.a.createElement("legend",null,"View Photo Map Details"),o.a.createElement(S,{lat:t.latitude,long:t.longitude,title:t.title}),o.a.createElement("label",null,"Title:"),o.a.createElement("label",null," ",t.title," "),o.a.createElement("label",null,"City:"),o.a.createElement("label",null," ",t.city," "),o.a.createElement("label",null,"Country:"),o.a.createElement("label",null," ",t.country," "),o.a.createElement("label",null,"Distance from You (in km):"),o.a.createElement(M,{lat:t.latitude,long:t.longitude})),o.a.createElement("button",{onClick:this.handleViewClick},"View"),o.a.createElement("button",{onClick:this.handleEditClick},"Edit")))}return null}}]),t}(o.a.Component),N=(a(156),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).filterList=function(e){a.props.filterList(e.target.value.toLowerCase())},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"searchBox"},o.a.createElement("input",{type:"text",name:"filter",onKeyUp:this.filterList,placeholder:"Filter Country or City"}))}}]),t}(o.a.Component)),x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).editImageDetails=function(e){a.setState({currentPhoto:e,viewStatus:"edit"},function(){})},a.viewSinglePhoto=function(e){a.setState({currentPhoto:e,viewStatus:"view"},function(){})},a.showMap=function(e){a.setState({currentPhoto:e,viewStatus:"map"},function(){this.forceUpdate()})},a.state={currentPhoto:1,viewStatus:"view"},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return"map"===this.state.viewStatus?e=o.a.createElement(F,{photos:this.props.unfilteredPhotos,currentPhoto:this.state.currentPhoto,editImageDetails:this.editImageDetails,viewSinglePhoto:this.viewSinglePhoto}):"edit"===this.state.viewStatus?e=o.a.createElement(j,{photos:this.props.unfilteredPhotos,currentPhoto:this.state.currentPhoto,updatePhoto:this.props.updatePhoto,addToFavs:this.props.addToFavs,viewSinglePhoto:this.viewSinglePhoto,showMap:this.showMap}):"view"===this.state.viewStatus&&(e=o.a.createElement(O,{photos:this.props.unfilteredPhotos,currentPhoto:this.state.currentPhoto,editImageDetails:this.editImageDetails,showMap:this.showMap})),o.a.createElement("section",null,o.a.createElement(N,{filterList:this.props.filterList}),o.a.createElement("div",{className:"container"},o.a.createElement(w,{photos:this.props.photos,editImageDetails:this.editImageDetails,addToFavs:this.props.addToFavs,viewSinglePhoto:this.viewSinglePhoto,showMap:this.showMap}),e))}}]),t}(o.a.Component),L=a(33),D=a(283),T=(a(227),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"banner"},o.a.createElement("div",null,o.a.createElement("h1",null,"Travel Photos"),o.a.createElement("h3",null,"Upload and Share"),o.a.createElement("p",null,o.a.createElement(f.a,{to:"/browse"},o.a.createElement("button",null,"Browse")),o.a.createElement(f.a,{to:"/about"},o.a.createElement("button",null,"About")))))}}]),t}(o.a.Component)),I=(a(228),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"banner-b"},o.a.createElement("div",null,o.a.createElement("h3",null,"About Assignment 1"),o.a.createElement("br",null),o.a.createElement("h3",null,"Nik Meyn and Gio Moros"),o.a.createElement("br",null),o.a.createElement("h4",null,"Resources/packages used:"),o.a.createElement("ul",null,"google-map-react"),o.a.createElement("ul",null,"JSZip"),o.a.createElement("ul",null,"jszip-utils"),o.a.createElement("ul",null,"Paletton for color scheme"),o.a.createElement("ul",null,"Splash page thanks to ",o.a.createElement("a",{href:"https://source.unsplash.com/"},"Unsplash Source")),o.a.createElement("ul",null,o.a.createElement("a",{href:"https://source.unsplash.com/"},"StackOverflow"))))}}]),t}(o.a.Component)),A=a(12),V=a(25),B=(a(229),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleRemoveFavorite=function(e){console.log("remove fav"),a.props.removeFromFavs(a.props.favPhoto.id)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t="https://storage.googleapis.com/funwebdev-3rd-travel/square-medium/".concat(this.props.favPhoto.path);return o.a.createElement("div",{className:"photoFave wrapper",onClick:this.handleViewClick},o.a.createElement("figure",null,o.a.createElement("img",(e={className:"image",src:t},Object(V.a)(e,"className","photoThumb"),Object(V.a)(e,"title",this.props.favPhoto.title),Object(V.a)(e,"alt",this.props.favPhoto.title),e)),o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{onClick:this.handleRemoveFavorite,className:"text"},"Remove"))))}}]),t}(o.a.Component)),J=(a(230),a(123)),R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleDownloadClick=function(){new J.JSZip;console.log(NaN)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"photoFave wrapper"},o.a.createElement("button",{className:"photoThumb",onClick:this.handleDownloadClick},"Download"))}}]),t}(o.a.Component),U=a(281),z=a(282),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(A.a)(Object(A.a)(a))),a.state={collapse:!0},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.props.favList.length>0?o.a.createElement("div",null,o.a.createElement(U.a,{onClick:this.toggle,style:{marginBottom:"1rem"}},"Show Favourites"),o.a.createElement(z.a,{isOpen:this.state.collapse},o.a.createElement("article",{className:"favorites"},this.props.favList.map(function(t){return o.a.createElement(B,{favPhoto:t,key:t.id,removeFromFavs:e.props.removeFromFavs})}),o.a.createElement(R,{favList:this.props.favList})))):null}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}}]),t}(o.a.Component),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).updatePhoto=function(e,t){var n=L(a.state.photos),o=n.find(function(t){return t.id===e});o.title=t.title,o.city=t.city,o.country=t.country,o.latitude=t.latitude,o.longitude=t.longitude,a.setState({photos:n})},a.addToFavs=function(e){var t=L(a.state.photos).find(function(t){return t.id===e});if(null==a.state.favList.find(function(t){return t.id===e})){var n=L(a.state.favList);n.push(t),a.setState({favList:n})}},a.removeFromFavs=function(e){console.log("in app rem favs");var t=a.state.favList.filter(function(t){return t.id!==e});a.setState({favList:t})},a.removeFromPhotoList=function(e){L(a.state.photos);var t=a.state.favList.filter(function(t){return t.id!==e});a.setState({photos:t})},a.filterList=function(e){var t=a.state.unfilteredPhotos.filter(function(t){return t.city.toLowerCase().includes(e)||t.country.toLowerCase().includes(e)});console.log(t),a.setState({photos:t})},a.state={photos:[],favList:[],unfilteredPhotos:[]},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://randyconnolly.com/funwebdev/services/travel/images.php",e.next=4,fetch("http://randyconnolly.com/funwebdev/services/travel/images.php");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,this.setState({photos:a,unfilteredPhotos:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(D.a,{path:"/",exact:!0,component:T}),o.a.createElement(D.a,{path:"/about",exact:!0,component:I}),o.a.createElement(D.a,{path:"/home",exact:!0,component:T}),o.a.createElement(D.a,{path:"/browse",exact:!0,render:function(t){return o.a.createElement("section",null,o.a.createElement(Z,{favList:e.state.favList,removeFromFavs:e.removeFromFavs}),o.a.createElement(x,{photos:e.state.photos,updatePhoto:e.updatePhoto,addToFavs:e.addToFavs,filterList:e.filterList,unfilteredPhotos:e.state.unfilteredPhotos}))}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(284);a(277);l.a.render(o.a.createElement(Q.a,null,o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.fb420576.chunk.js.map